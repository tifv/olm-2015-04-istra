\section*{Теория чисел: показатели}

% $authors:
% - Антон Гусев

% $matter[with-solutions]:
% - verbatim: \begingroup\let\ifincludesolutions\iftrue
% - .[-with-solutions]
% - verbatim: \endgroup % \let\ifincludesolutions

\begingroup\providecommand\ifincludesolutions{\iffalse}

\ifincludesolutions
\subsection*{Версия с решениями}
\fi

\claim{Малая теорема Ферма}
Если $p$~--- простое, то~$a^p \equiv a \pmod{p}$.

\claim{Теорема Эйлера}
Если $\text{НОД}(a, n) = 1$, то~$a^{\phi(n)} \equiv 1 \pmod{n}$.

\definition
При $(a, m) = 1$ существует натуральное $\delta$ с~условием
$a^{\delta} \equiv 1 \pmod{m}$.
Наименьшее из~таких чисел называется \emph{показателем $a$ по~модулю $m$}.

\begin{problems}

\item
В~обозначениях из~предыдущего определения:
\\
\sp
Числа $1 = a^0$, $a^1$, \ldots, $a^{\delta-1}$ попарно несравнимы
по~модулю~$m$.
\\
\sp
$a^s \equiv a^t \pmod{m}$ ($s, t \geq 0$)
тогда и~только тогда, когда
$s \equiv t \pmod{\delta}$.
В~частности, $a^s \equiv 1 \pmod{m}$
тогда и~только, когда
$s$ делится на~$\delta$.
\\
\sp\label{extra/algebra:phi:problem}%
Число $\delta$ является делителем $\varphi(m)$.

\end{problems}

\ifincludesolutions
\setcounter{jeolmsubproblem}{0}%
\sp
Пусть $a^s \equiv a^t \pmod{m}$.
Тогда $a^{t} (a^{s-t} - 1)$ делится на~$m$.
То есть $(a^{s-t} - 1)$ делится на~$m$.
Но~такого быть не~может, поскольку $0 < s - t < \delta$.
\par
\sp
Сначала докажем, что $a^s \equiv 1 \pmod{m}$ тогда и только тогда, когда
$s$ делится на~$\delta$.
Пусть это не~так.
Тогда $s = x \delta + r$.
Имеем, $1 \equiv a^s \equiv (a^{\delta})^x a^r \equiv a^r \pmod{m}$.
Но~такого быть не~может из~определения показателя.
Значит, $r = 0$ и~$s$ делится на~$\delta$ без остатка.
Отсюда сразу следует, что если $a^s \equiv a^t \pmod{m}$, то~$(a^{s-t} - 1)$
делится на~$m$, то~есть $(s - t)$ делится на~$\delta$.
\par
\sp
Очевидное следствие из~теоремы Эйлера и~предыдущего пункта.
\fi % \ifincludesolutions

\begin{problems}

\item
Найдите все простые $p$ и~$q$ такие, что $(2^p - 1)$ делится на~$q$,
$(2^q - 1)$ делится на~$p$.

\end{problems}

\ifincludesolutions
Пусть $\delta$~--- показатель 2 по~модулю $q$.
Тогда $p$ делится на~$\delta$.
И~поскольку $\delta$ не~равно~1, то~$\delta = p$.
Но~тогда из~малой теоремы Ферма и~предыдущей задачи получаем, что $(q - 1)$
делится на~$p$, следовательно $q > p$.
Абсолютно аналогично можем получить, что $p > q$.
Но~оба условия одновременно выполняться не~могут, то~есть таких $p$ и~$q$
просто не~существует.  
\fi % \ifincludesolutions

\begin{problems}

\item
Докажите, что для любого натурального $n$ простые делители числа $2^{2^n} + 1$
имеют вид $2^{n+1} x + 1$.

\end{problems}

\ifincludesolutions
Пусть $m = 2^{n+1} x + 1$.
Поскольку $2^{2^n} \equiv -1 \pmod{m}$, то~$2^{2^{n+1}} \equiv 1 \pmod{m}$.
И~если $\delta$~--- показатель 2 по~модулю~$n$, то~$2^{n+1}$ делится
на~$\delta$.
То есть $\delta = 2^k$.
Но~если $k < n + 1$, то~$2^{2^n} \equiv 1 \pmod{m}$, что не~верно.
Но~тогда $\delta = 2^{n+1}$, и~для любого простого делителя $q$ верно, что
$(q - 1)$ делится на~$\delta$.
Несложно видеть, что именно это мы~и~хотели доказать.
\fi % \ifincludesolutions

\begin{problems}

\item
Докажите, что для любого натурального $a > 1$ количество правильных
несократимых дробей со~знаменателем $(a^n - 1)$ кратно $n$.

\end{problems}

\ifincludesolutions
Очевидно, что таких дробей $\phi(a^n - 1)$.
При этом понятно, что $n$~--- порядок $a$ по~модулю $(a^n - 1)$.
Но~тогда условие задачи очевидно из~задачи \ref{extra/algebra:phi:problem}.
\fi % \ifincludesolutions

\begin{problems}

%\item
%$p$, $q$~--- простые числа, $q > 5$.
%Докажите, что если $q \mid 2^p + 3^p$, то~$q > p$.

\item
Докажите, что $(2^n - 1)$ не~делится на~$n$ при натуральном $n > 1$.

\end{problems}

\ifincludesolutions
Случай, когда $n$~--- четно не~интересен.
Рассмотрим нечетное $n$.
Предположим, что существует $n$, для которого условие задачи не~выполнено.
Рассмотрим минимальное такое $n$.
Пусть $\delta$~--- порядок 2 по~модулю $n$.
Тогда $(2^{\delta} - 1)$ делится на~$n$, а~значит делится на~$\delta$.
И~из~минимальности $n$ следует, что $\delta = n$.
Но~такого не~бывает, поскольку $\delta$ не~превосходит $\phi(n) < n$. 
\fi % \ifincludesolutions

\begin{problems}

\item
Пусть $a > 1$, $p > 2$, $p$~--- простое.
\\
\sp
Докажите, что простые нечетные делители числа $(a^p - 1)$ или делят $(a - 1)$,
или имеют вид $2 p x + 1$.
\\
\sp
Докажите, что число $(a^p - 1) / (a - 1)$ имеет хотя~бы один простой
множитель, не~являющийся делителем $(a - 1)$.
\\
\sp
Докажите бесконечность множества простых чисел вида $2 p x + 1$.

\end{problems}

\ifincludesolutions
\setcounter{jeolmsubproblem}{0}%
\sp
Пусть $(a^p - 1)$ делится на~простое число $q$.
Тогда рассмотрим $\delta$~--- показатель $a$ по~модулю $q$.
Имеем, что $p$ делится на~$\delta$.
То есть либо $\delta = 1$, либо $\delta = p$.
Если $\delta = 1$, то~$q$ является делителем $(a - 1)$.
Если~же $\delta = p$, то~$(q - 1)$ делится на~$p$.
Но~при этом оно четно, а~значит $(q - 1)$ делится на~$2 p$.
Что и~требовалось доказать.
\\
\sp
Пусть степень вхождения $p$ в~$(a - 1)$ равна $k$.
Покажем, что $a^{p-1} + a^{p-2} + \ldots + 1$ не~делится на~$p^2$.
Действительно, пусть $a = p^k x + 1$.
Тогда
\[
    (p^k x + 1)^{p-1} + (p^k x + 1)^{p-2} + \ldots + (p^k x + 1) + 1
\equiv
    p
\pmod{p^{k+1}}
\,.\]
Но~тогда если условие задачи не~выполнено, то~$a^{p-1} + a^{p-2} + \ldots + 1$
не~превосходит $(a - 1)$, чего не~может быть.
\\
\sp
Предположим, что их~конечно.
Тогда подставим их~произведение в~$a^{p-1} + a^{p-2} + \ldots + 1$ вместо $a$.
Из~двух предыдущих пунктов получившееся число будет иметь делитель
вида $2 p x + 1$.
Но~оно взаимно просто со~всеми простыми числами такого вида.
Противоречие.
\fi % \ifincludesolutions

\begin{problems}

%\item
%Известно, что число $2^{32} + 1$ раскладывается на~простые множители как
%$641 \cdot 6700417$.
%Докажите, что существует такое натуральное $k$, что для любого
%натурального $n$ число $k 2^n + 1$ будет составным.

\item
Найдите все пары $p$ и~$q$ такие, что $(7^{p} - 2^{p}) \cdot (7^{q} - 2^{q})$
делится на~$p q$.

\end{problems}

\ifincludesolutions
\textbf{Случай 1.}
Пусть $7^p - 5^p$ делится на~$p$.
Тогда из~малой теоремы Ферма $7^p - 2^p \equiv 7 - 2 \pmod{p}$.
То есть $p = 5$.
И~либо $7^q - 2^q$ делится на~$q$ и~$q = 5$, либо $7^5 - 2^5$ делится на~$q$.
Тогда $q \in \{ 5, 11, 61 \}$. 
\\
\textbf{Случай 2.}
Когда $7^{q} - 5^{q}$ делится на~$q$; решается аналогично. 
\\
\textbf{Случай 3.}
Осталось рассмотреть случай, когда $(7^{p} - 2^{p})$ делится на~$q$
и~$(7^{q} - 2^{q})$ делится на~$p$, и~$p$ и~$q$ не~равны 5.
Но~если $(7^{p} - 2^{p})$ делится на~$q$, то~$(7 \cdot 2^{-1})^p \equiv 1$.
Но~тогда $p$~--- показатель числа $7 \cdot 2^{-1}$ по~модулю $q$, то~есть
$(q - 1)$ делится на~$p$ и~$q > p$.
Аналогично из~второй делимости доказывается, что $p > q$.
Противоречие.
Значит, в~третьем случае решений нет.
\fi % \ifincludesolutions

\begin{problems}

%\item
%Известно, что $2^{2k} + 2^k + 1 = p$~--- простое число.
%Доказать, что $2^{2^k+1} - 1$ делится на~$p$.

\item
Даны натуральные числа $x$ и~$y$ из~отрезка $[2; 100]$.
Докажите, что при некотором натуральном  $n$ число $x^{2^n} + y^{2^n}$~---
составное. 

\end{problems}

\ifincludesolutions
Если $x = y$, то~подходит $n = 1$, ибо $x^2 + y^2$~--- четное число, большее 2.
Далее мы~предполагаем, что $x$ не~равно $y$.
В~этом случае мы~установим, что при некотором $n$ число $x^{2^n} + y^{2^n}$
делится на~257 и~не~равно 257.
Тогда оно будет составным, что и~требуется. 
Предположим, что $x^{2^n} +y ^{2^n} = 257$.
Пусть $a = x^{2^{n-1}}$, $b = y^{2^{n-1}}$.
Тогда $a^2 + b^2 = 257$, и, если $a \geq b$, то~$a = 16$, $b = 1$
(случаи $a = 12, 13, 14, 15$ легко перебираются;
если~же $a \geq 11$ , то~$b^2 \geq a^2 < 257 / 2$, что невозможно).
Но~это противоречит условию $x, y > 1$.
Итак, $x^{2^n} + y^{2^n}$ не~равно 257.
Осталось проверить только то, что при некотором $n$ число $x^{2^n} + y^{2^n}$
делится на~257. 
Поскольку $y$ не~делится на~простое число 257, найдется такое натуральное $q$,
что $x \equiv q y \pmod{257}$.
Так как $x$ не~равно $y$ и~$0 < x + y < 257$, получаем, что $q$ не~сравнимо
ни~с~$1$, ни~с~$-1$ по~модулю 257.
Кроме того, $q$ не~делится на~257, поскольку $x$ не~делится на~257.
Поскольку число 257 простое, по~малой теореме Ферма число
$q^{256} \equiv 1 \pmod{257}$.
Тогда показатель $q$ по~модулю 257~--- это степень двойки.
Следовательно, найдется $2^k$ такое, что $q^{2^k} \equiv -1 \pmod{257}$.
Но~тогда и~$x^{2^k} + y^{2^k}$ будет делиться на~257.
Что мы~и~хотели доказать. 
\fi % \ifincludesolutions

\endgroup % \providecommand\ifincludesolutions

